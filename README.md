# DDZ_DQN_Project
it's the project DQN Algorim for the DDZ Game
-------------------------------------------------------------------------------------------------------------
## 使用说明
### 
###      在使用接口前，请阅读此说明，有助于提高使用该接口能力，方便快速开发。
###      使用顺序如下：
###      
###      启动机器人---》启动一盘斗地主---》发牌--》叫分--》开始玩---》出牌---》关闭一盘都地主---》关闭机器人
###     （可以“查询机器人”状态）                                           （可以在关闭后，不开新得机器人，开启新得一盘）
###     
###       “获取ai推荐”  这个可以在开始玩后调用，直到没有牌
###       
###       
###       注意：如果想同时对几个桌子服务，必须启动多个机器人。
------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------
    
**简要描述：** 

- 该接口启动和关闭机器人。

**请求URL：** 
- ` /mall/ai_play `

**请求方式：**
- GET/POST(HTTPS)

**系统级参数：**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|handle_id |是  |string |***操作参数 1.启动一盘斗地主 2.关闭一盘斗地主***|
|process_id |是  |string |机器人序号 默认为0 当查询机器人和关闭机器人时，请传入创建返回得机器人id   |



 **返回示例:**
 
 {
    "status": 0
 }
 
 {
    "status": 1，
    "error":"操作错误"
}

**请求成功返回参数说明** 

 **1.启动机器人**
 
|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |
|error |int   |错误信息 |



 **备注** 

- 具体的访问地址请按照实际情况确定


-------------------------------------------------------------------------------------------------------------

-------------------------------------------------------------------------------------------------------------
    
**简要描述：** 

- 该接口启动机器人。

**请求URL：** 
- ` /mall/ai_handle_process `

**请求方式：**
- GET/POST(HTTPS)

**系统级参数：**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|action_id |是  |string |操作参数 1.启动机器人 2.查询机器人得状态  3.关闭机器人 |
|process_id |是  |string |机器人序号 默认为0 当查询机器人和关闭机器人时，请传入创建返回得机器人id   |



 **返回示例:**
 
 **1.启动机器人 返回**
{
    "status": 0,
    "process_id": 1
}

**2.查询机器人 返回**
{
    "status": 0,
    "info": {
        "retinfo": {
            "iscompleted": false,
            "isstarted": true,
            "run_process": 0,
            "os_id": 0,
            "retcode": 1
        },
        "actiontime": "2019-11-04 18:28:42"
    }
}

**3.关闭机器人 返回**
{
    "status": 0
}

**请求成功返回参数说明** 

 **1.启动机器人**
 
|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |
|process_id |int   |机器人id |

**2.查询机器人**

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |
|actiontime |int   |操作启动时间 |
|retinfo |int   |机器人信息 |

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|iscompleted |bool   |机器人是否关闭 |
|isstarted |bool   |机器人是否启动 |
|run_process |String   |完成得进度 （小数百分） |
|os_id |int   |平台id |


**3.关闭机器人**

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |



 **备注** 

- 具体的访问地址请按照实际情况确定


------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------
    
**简要描述：** 

- 该接口发牌，叫分，打牌接口调用顺序。

**请求URL：** 
- ` /mall/ai_pre_play `

**请求方式：**
- GET/POST(HTTPS)

**系统级参数：**

**1.发牌 参数**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|handle_id |是  |string |操作参数 100.发牌，101 叫分 ，102开始打牌|
|process_id |是  |string |机器人序号 默认为0 当查询机器人和关闭机器人时，请传入创建返回得机器人id   |
|curpos |是  |string |下一步第一个叫分人得编号  |
|backcard |否  |string |底牌数组（3张） 例如：48,17,42  |
|player1 |否 |string |选手1得牌（17张） 注意第一位是座位号，例如：0,35,38,36,6,22,15,16,8,25,46,41,24,52,11,28,53,30|
|player2 |否  |string |选手2得牌（17张）注意第一位是座位号，例如：1,14,27,44,40,26,45,39,51,13,31,43,29,3,37,21,4,50   |
|player3 |否  |string |选手3得牌（17张）注意第一位是座位号，例如：2,20,2,49,47,10,23,1,0,33,32,9,12,7,34,18,5,19   |

**2.叫分参数**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|handle_id |是  |string |操作参数 100.发牌，101 叫分 ，102开始打牌|
|process_id |是  |string |机器人序号 默认为0 当查询机器人和关闭机器人时，请传入创建返回得机器人id   |
|landparam |否  |string |叫分参数是一个数组，四个数，0：叫分人编号 1：下一个叫分人编号 2：当前叫了多少分 3：当前叫了多少分 例如 0,1,1,0|

**3.开始打牌参数**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|handle_id |是  |string |操作参数 100.发牌，101 叫分 ，102开始打牌|
|process_id |是  |string |机器人序号 默认为0 当查询机器人和关闭机器人时，请传入创建返回得机器人id   |
|landparam |否  |string |“开始打牌”参数 0：地主编号 1：地主叫分 2：当前出牌人编号 例如 0,1,1|
|backcard |是  |string |底牌  例如：48,17,42|

***特别注意：选手牌得第一位是座位号，即代表是哪个选手，在之后出牌中辨识是哪位出得牌***



 **返回示例:**
 
 **1.发牌 返回**
{
    "status": 0,
}

**2.叫分 返回**
{
    "status": 0,
}

**3.开始打牌 返回**
{
    "status": 0
}

**请求成功返回参数说明** 

 **1.启动机器人**
 
|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |


**2.叫分 返回**

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |



**3.开始打牌**

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |



 **备注** 

- 具体的访问地址请按照实际情况确定


---------------------------------------------------------------------------------------------------

---------------------------------------------------------------------------------------------------
    
**简要描述：** 

- 该接口出牌，放弃出牌顺序。

**请求URL：** 
- ` /mall/ci_pre_play_process `

**请求方式：**
- GET/POST(HTTPS)

**系统级参数：**

**1.出牌 参数**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|handle_id |是  |string |操作参数 103.出牌|
|process_id |是  |string |请传入创建返回得机器人id   |
|card_data |否  |string |出的牌 例如：48,17,42  |
|cur_user |否 |string |下一个出牌人得编号|
|out_card_user |否  |string |当前出牌人得编号   |

**1.放弃出牌 参数**

|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|handle_id |是  |string |操作参数 104 放弃出牌|
|process_id |是  |string |请传入创建返回得机器人id   |
|cur_user |否  |int |下一个出牌人   |
|new_turn |否  |bool |是否新得一轮   |

***特别注意：选手编号，在发牌得时候已经上传过了***



 **返回示例:**
 
 **1.出牌 返回**
{
    "status": 0,
}

**2.放弃出牌 返回**
{
    "status": 0,
}


**请求成功返回参数说明** 

 **1.出牌 返回**
 
|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |


**2.放弃出牌 返回**

|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |




 **备注** 

- 具体的访问地址请按照实际情况确定


------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------
    
**简要描述：** 

- 该接获取机器人推荐打牌。

**请求URL：** 
- ` /mall/ai_get_strategy `

**请求方式：**
- GET/POST(HTTPS)

**系统级参数：**


|参数名|必选|类型|说明|
|:----    |:---|:----- |-----   |
|userid |是  |string |数据库中配置的微信公众号标记   |
|process_id |是  |string |请传入创建返回得机器人id   |




 **返回示例:**
{
    "status": 2,
    "error": "要不起！"
}

{
    "status": 0,
    "result": {
        "card_count": 3,   ##建议出3张牌
        "card_result": {
            "0": 3,      #牌得编号
            "1": 19,     
            "2": 35    
        },
        "retcode": 1
    }
}

**请求成功返回参数说明** 

 **1.出牌 返回**
 
|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |
|error |String   |建议结果|




|参数名|类型|说明|
|:-----  |:-----|-----                           |
|status |String   |0 成功 1失败  |
|card_count |String   |出牌个数  |
|card_result |String   |出牌结果  |




 **备注** 

- 具体的访问地址请按照实际情况确定


---------------------------------------------------------------------------------------------------------------